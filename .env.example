# ===========================================
# Stock Predict AI Server - Environment Variables
# ===========================================
# Usage: cp .env.example .env

# ===========================================
# AI Server
# ===========================================
APP_NAME=Stock Predict AI
APP_VERSION=0.1.0
DEBUG=true
AI_HOST=0.0.0.0
AI_PORT=8001

# ===========================================
# Database (PostgreSQL) - stock-predict-network
# ===========================================
# 외부 접속용 (로컬에서 개발 시)
DB_HOST=localhost
DB_PORT=5432
DB_NAME=stock_predict
DB_USER=postgres
DB_PASSWORD=postgres
DB_ECHO=false

# Docker 네트워크 사용 여부
DB_USE_DOCKER_NETWORK=false
DB_DOCKER_HOST=stock-predict-db

# ===========================================
# Kafka / Redpanda - stock-predict-network
# ===========================================
# 외부 접속용 (로컬에서 개발 시)
KAFKA_BOOTSTRAP_SERVERS=localhost:19092

# 내부 접속용 (Docker 컨테이너 내부에서 실행 시)
KAFKA_BOOTSTRAP_SERVERS_INTERNAL=redpanda-0:9092,redpanda-1:9092,redpanda-2:9092

# Docker 내부 주소 사용 여부 (Docker 컨테이너 안에서 실행 시 true)
KAFKA_USE_INTERNAL=false

# Consumer 설정
KAFKA_GROUP_ID=ai-server-group
KAFKA_AUTO_OFFSET_RESET=latest
KAFKA_ENABLE_AUTO_COMMIT=true
KAFKA_MAX_POLL_RECORDS=100

# 토픽 이름
TOPIC_GAP_CANDIDATE=extract_daily_candidate
TOPIC_PREDICTION_RESULT=ai_prediction_result

# ===========================================
# Model Storage
# ===========================================
MODEL_PATH=./models/stacking/stacking_hybrid_model.pkl

# ===========================================
# Feature 계산 설정
# ===========================================
FEATURE_LOOKBACK_DAYS=60

# ===========================================
# 예측 설정 (백테스트 동일 조건)
# ===========================================
PREDICTION_THRESHOLD=0.4
MIN_EXPECTED_RETURN=1.0
MIN_PROB_UP=0.4
TAKE_PROFIT_RATIO=0.8
STOP_LOSS_RATIO=0.5
MAX_POSITIONS=20

# ===========================================
# CORS (선택)
# ===========================================
CORS_ORIGINS=http://localhost:3000,http://localhost:5173